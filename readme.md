# DTF Scheduler Bot

Telegram-бот для отложенного постинга на DTF. Использует Puppeteer и Grammy для автоматизации публикации черновиков через удобный интерфейс бота.

## Назначение проекта

Этот проект предназначен для автоматизации процесса публикации черновиков на платформе DTF через Telegram-бот. Он позволяет пользователям управлять своими черновиками, просматривать их и публиковать, не заходя напрямую на сайт DTF.

## Состав проекта

### 1. **DTFService**
`DTFService` отвечает за взаимодействие с сайтом DTF. Он использует Puppeteer для автоматизации действий в браузере, таких как вход в аккаунт, получение списка черновиков и их публикация.

### 2. **TelegramService**
`TelegramService` управляет взаимодействием с пользователем через Telegram. Он обрабатывает команды пользователя и отправляет соответствующие запросы к `DTFService`.

### 3. **SchedulerService**
`SchedulerService` (если реализован) отвечает за планирование отложенных публикаций.

### 4. **Config**
`Config` содержит конфигурационные параметры проекта, такие как токены и учетные данные.

## Функциональность и принципы работы

### 1. **Авторизация на DTF**

Пользователь авторизуется через Telegram-бот, предоставляя свои учетные данные DTF. `DTFService` использует эти данные для входа на сайт через Puppeteer.

**Пример:**
```typescript
const isLoggedIn = await dtfService.login(telegramId, username, password);
```

### 2. **Получение списка черновиков**

После авторизации пользователь может запросить список своих черновиков. `DTFService` получает эту информацию с сайта DTF и передает ее обратно через Telegram-бот.

**Пример:**
```typescript
const drafts = await dtfService.getDrafts(telegramId, username);
```

### 3. **Публикация черновика**

Пользователь может выбрать черновик для публикации. `DTFService` автоматизирует процесс публикации на сайте DTF.

**Пример:**
```typescript
const isPublished = await dtfService.publishDraft(telegramId, username, draftId);
```

### 4. **Обработка команд Telegram**

`TelegramService` обрабатывает команды пользователя, такие как `/login`, `/drafts`, `/publish`.

**Пример:**
```typescript
bot.command("drafts", async (ctx) => {
  // Логика обработки команды /drafts
});
```

## Установка и запуск

1. Клонируйте репозиторий
2. Установите зависимости: `npm install`
3. Создайте файл `.env` и заполните необходимые переменные окружения
4. Запустите проект: `npm start`

## Зависимости

- Grammy: для создания Telegram-бота
- Puppeteer: для автоматизации действий в браузере
- TypeScript: язык программирования
- Node.js: среда выполнения

## Планы на будущее

- Реализация отложенного постинга
- Улучшение обработки ошибок
- Добавление поддержки других платформ для блогов

---

